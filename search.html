<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªôp T√¨m Ki·∫øm</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h2>üîç T√¨m ki·∫øm d·ªØ li·ªáu</h2>
    <button onclick="openSearchPopup()">M·ªü h·ªôp t√¨m ki·∫øm</button>

    <script>
        function openSearchPopup() {
            let popup = window.open("", "SearchPopup", "width=600,height=400");

            let popupContent = `
                <html>
                <head>
                    <title>T√¨m ki·∫øm</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 20px; text-align: center; }
                        input { width: 80%; padding: 10px; margin-bottom: 10px; }
                        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
                        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
                        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                        th { background-color: #f4f4f4; }
                        #tableContainer { max-height: 300px; overflow-y: auto; border: 1px solid #ccc; }
                    </style>
                </head>
                <body>
                    <h2>üîç Nh·∫≠p t·ª´ kh√≥a ƒë·ªÉ t√¨m ki·∫øm</h2>
                    <input type="text" id="searchBox" placeholder="Nh·∫≠p t·ª´ kh√≥a...">
                    <button onclick="filterQuestions()">T√¨m ki·∫øm</button>
                    <div id="tableContainer">
                        <table>
                            <thead>
                                <tr><th>C√¢u h·ªèi</th><th>C√¢u tr·∫£ l·ªùi</th></tr>
                            </thead>
                            <tbody id="qaTable"></tbody>
                        </table>
                    </div>
                    <script>
                        let data = {};
                        fetch("https://thuanhazzz.github.io/search-widget/data.json")
                            .then(response => response.json())
                            .then(json => { data = json; console.log("D·ªØ li·ªáu t·∫£i th√†nh c√¥ng!"); })
                            .catch(error => console.error("L·ªói t·∫£i d·ªØ li·ªáu:", error));

                        function filterQuestions() {
                            let query = document.getElementById("searchBox").value.toLowerCase();
                            let table = document.getElementById("qaTable");
                            table.innerHTML = "";
                            Object.entries(data).forEach(([q, a]) => {
                                if (q.toLowerCase().includes(query)) {
                                    let row = table.insertRow();
                                    row.insertCell(0).innerText = q;
                                    row.insertCell(1).innerText = a;
                                }
                            });
                        }
                    <\/script>
                </body>
                </html>
            `;

            popup.document.write(popupContent);
            popup.document.close();
        }
    </script>
</body>
</html>
